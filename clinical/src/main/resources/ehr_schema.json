{
  "type": "object",
  "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrPatientRecord",
  "properties": {
    "allergies": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrAllergy",
        "properties": {
          "name": {
            "type": "string"
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "category": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrAllergyCategory>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "MEDICATION",
                  "OTHER"
                ]
              }
            }
          },
          "severity": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrAllergySeverity>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "HIGH",
                  "LOW",
                  "UNKNOWN",
                  "OTHER"
                ]
              }
            }
          },
          "clinical_status": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrAllergyClinicalStatus>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "ACTIVE",
                  "INACTIVE",
                  "OTHER"
                ]
              }
            }
          },
          "verification_status": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrAllergyVerificationStatus>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "CONFIRMED",
                  "UNCONFIRMED",
                  "OTHER"
                ]
              }
            }
          }
        }
      }
    },
    "blood_transfusions": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrBloodTransfusion",
        "properties": {
          "evaluation_time": {
            "type": "string",
            "format": "date-time"
          },
          "product": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrBloodTransfusionProduct>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "PLASMA_A",
                  "PLASMA_B",
                  "PLASMA_O",
                  "PLASMA_AB",
                  "PLATELETS_POOLED",
                  "PLATELETS_POOLED_RADIATED",
                  "ERYTHROCYTES_RADIATED",
                  "APHERESIS_PLASMA",
                  "ERTHROCYTES_FILTERED",
                  "OTHER",
                  "PLATELETS_APHERESIS"
                ]
              }
            }
          }
        }
      }
    },
    "complications": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrComplication",
        "properties": {
          "name": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "lab_values": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrLabValue",
        "properties": {
          "evaluation_time": {
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "value": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          },
          "ref_upper_bound": {
            "type": "number"
          },
          "ref_lower_bound": {
            "type": "number"
          },
          "ref_flag": {
            "type": "string"
          }
        }
      }
    },
    "medications": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrMedication",
        "properties": {
          "name": {
            "type": "string"
          },
          "atc_code": {
            "type": "string"
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "administration_route": {
            "type": "string"
          },
          "dosage": {
            "type": "number"
          },
          "dosage_unit": {
            "type": "string"
          },
          "frequency": {
            "type": "number"
          },
          "frequency_unit": {
            "type": "string"
          },
          "period_between_dosages_value": {
            "type": "number"
          },
          "period_between_dosages_unit": {
            "type": "string"
          },
          "administration_only_if_needed": {
            "type": "boolean"
          },
          "trial": {
            "type": "boolean"
          },
          "self_care": {
            "type": "boolean"
          }
        }
      }
    },
    "patient_details": {
      "type": "object",
      "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrPatientDetail",
      "properties": {
        "birth_year": {
          "type": "integer"
        },
        "gender": {
          "type": "object",
          "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrGender>",
          "properties": {
            "input": {
              "type": "string"
            },
            "accepted_values": {
              "type": "string",
              "enum": [
                "MALE",
                "FEMALE",
                "OTHER"
              ]
            }
          }
        },
        "registration_date": {
          "type": "string",
          "format": "date"
        },
        "patient_id": {
          "type": "string"
        },
        "hashed_id": {
          "type": "string"
        }
      }
    },
    "prior_other_conditions": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrPriorOtherCondition",
        "properties": {
          "name": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "surgeries": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrSurgery",
        "properties": {
          "name": {
            "type": "string"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrSurgeryStatus>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "PLANNED",
                  "IN_PROGRESS",
                  "FINISHED",
                  "CANCELLED",
                  "UNKNOWN",
                  "OTHER"
                ]
              }
            }
          }
        }
      }
    },
    "toxicities": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrToxicity",
        "properties": {
          "name": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "evaluated_date": {
            "type": "string",
            "format": "date"
          },
          "grade": {
            "type": "integer"
          }
        }
      }
    },
    "treatment_history": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrTreatmentHistory",
        "properties": {
          "treatment_name": {
            "type": "string"
          },
          "intention": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrTreatmentIntention>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "ADJUVANT",
                  "NEOADJUVANT",
                  "INDUCTION",
                  "CONSOLIDATION",
                  "MAINTENANCE",
                  "PALLIATIVE",
                  "OTHER"
                ]
              }
            }
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "stop_reason": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrStopReason>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "PROGRESSIVE_DISEASE",
                  "TOXICITY",
                  "OTHER"
                ]
              }
            }
          },
          "stop_reason_date": {
            "type": "string",
            "format": "date"
          },
          "response": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrTreatmentResponse>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "COMPLETE_RESPONSE",
                  "PARTIAL_RESPONSE",
                  "STABLE_DISEASE",
                  "PROGRESSIVE_DISEASE",
                  "NOT_EVALUATED",
                  "OTHER"
                ]
              }
            }
          },
          "response_date": {
            "type": "string",
            "format": "date"
          },
          "intended_cycles": {
            "type": "integer"
          },
          "administered_cycles": {
            "type": "integer"
          },
          "modifications": {
            "type": "array",
            "items": {
              "type": "object",
              "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrTreatmentModification",
              "properties": {
                "name": {
                  "type": "string"
                },
                "date": {
                  "type": "string",
                  "format": "date"
                },
                "administered_cycles": {
                  "type": "integer"
                }
              }
            }
          },
          "administered_in_study": {
            "type": "boolean"
          }
        }
      }
    },
    "tumor_details": {
      "type": "object",
      "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrTumorDetail",
      "properties": {
        "diagnosis_date": {
          "type": "string",
          "format": "date"
        },
        "tumor_location": {
          "type": "string"
        },
        "tumor_type": {
          "type": "string"
        },
        "tumor_grade_differentiation": {
          "type": "string"
        },
        "tumor_stage": {
          "type": "object",
          "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrTumorStage>",
          "properties": {
            "input": {
              "type": "string"
            },
            "accepted_values": {
              "type": "string",
              "enum": [
                "I",
                "II",
                "IIA",
                "IIB",
                "III",
                "IIIA",
                "IIIB",
                "IIIC",
                "IV",
                "OTHER"
              ]
            }
          }
        },
        "tumor_stage_date": {
          "type": "string",
          "format": "date"
        },
        "measurable_disease": {
          "type": "boolean"
        },
        "measurable_disease_date": {
          "type": "string",
          "format": "date"
        },
        "lesions": {
          "type": "array",
          "items": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrLesion",
            "properties": {
              "location": {
                "type": "object",
                "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrLesionLocation>",
                "properties": {
                  "input": {
                    "type": "string"
                  },
                  "accepted_values": {
                    "type": "string",
                    "enum": [
                      "BRAIN",
                      "CNS",
                      "BONE",
                      "LIVER",
                      "LUNG",
                      "LYMPH_NODE",
                      "OTHER"
                    ]
                  }
                }
              },
              "sub_location": {
                "type": "string"
              },
              "diagnosis_date": {
                "type": "string",
                "format": "date"
              }
            }
          }
        }
      }
    },
    "prior_primaries": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrPriorPrimary",
        "properties": {
          "diagnosis_date": {
            "type": "string",
            "format": "date"
          },
          "tumor_location": {
            "type": "string"
          },
          "tumor_type": {
            "type": "string"
          },
          "status": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrTumorStatus>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "ACTIVE",
                  "INACTIVE",
                  "EXPECTATIVE",
                  "OTHER"
                ]
              }
            }
          },
          "status_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "measurements": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrMeasurement",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "category": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrMeasurementCategory>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "HEART_RATE",
                  "PULSE_OXIMETRY",
                  "NON_INVASIVE_BLOOD_PRESSURE",
                  "ARTERIAL_BLOOD_PRESSURE",
                  "BODY_WEIGHT",
                  "BODY_HEIGHT",
                  "BMI",
                  "OTHER"
                ]
              }
            }
          },
          "subcategory": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrMeasurementSubcategory>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "NA",
                  "SYSTOLIC_BLOOD_PRESSURE",
                  "DIASTOLIC_BLOOD_PRESSURE",
                  "MEAN_BLOOD_PRESSURE",
                  "OTHER"
                ]
              }
            }
          },
          "value": {
            "type": "number"
          },
          "unit": {
            "type": "object",
            "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EnumeratedInput<com:hartwig:actin:clinical:ehr:EhrMeasurementUnit>",
            "properties": {
              "input": {
                "type": "string"
              },
              "accepted_values": {
                "type": "string",
                "enum": [
                  "BPM",
                  "PERCENT",
                  "MMHG",
                  "KG",
                  "CM",
                  "KG_M2",
                  "OTHER"
                ]
              }
            }
          }
        }
      }
    },
    "who_evaluations": {
      "type": "array",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:com:hartwig:actin:clinical:ehr:EhrWhoEvaluation",
        "properties": {
          "status": {
            "type": "integer"
          },
          "evaluation_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    }
  }
}